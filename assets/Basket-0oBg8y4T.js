import{_ as g,r as B,d as V,e as u,f as r,g as l,i,j as t,F as d,q as P,k as C,t as n,m as I}from"./index-NOUR2HC1.js";const m={class:"container"},y=["src"],N={class:"basket__box-prices"},S={class:"products__discount"},O={class:"products__discount"},$={class:"products__title"},F={class:"col"},J=["onClick"],M=["onClick"],T={__name:"Basket",props:["bascketValue"],setup(_){const c=B(_.bascketValue),p=V(()=>c.value.reduce((e,s)=>(e[s.id]?e[s.id].count++:e[s.id]={...s,count:1},e),{})),k=e=>{const s=c.value.findIndex(a=>a.id===e.id);s!==-1&&(c.value.splice(s,1),localStorage.setItem("bascketValue",JSON.stringify(c.value)))},h=e=>{c.value.findIndex(a=>a.id===e.id)!==-1&&(c.value.push(e),localStorage.setItem("bascketValue",JSON.stringify(c.value)))},v=e=>Math.round((e.price-e.price/100*e.discountPercentage)*e.count),b=e=>Math.round(e.price-e.price/100*e.discountPercentage);return(e,s)=>{const a=u("searchBar"),f=u("router-link");return r(),l(d,null,[i(a),t("div",null,[t("div",m,[(r(!0),l(d,null,P(p.value,o=>(r(),l("div",{class:"box",key:o.id},[i(f,{to:"/about/"+o.title,class:"products"},{default:C(()=>[t("img",{src:o.thumbnail,alt:"",class:"products__img"},null,8,y),t("div",N,[t("p",S,"Overall: "+n(v(o))+"$",1),t("p",O,"Price per item: "+n(b(o))+"$",1)]),t("h2",$,n(o.title),1)]),_:2},1032,["to"]),t("p",F,[I("Quantity: "+n(o.count)+" ",1),t("button",{class:"col__button",onClick:x=>k(o)},"-",8,J),t("button",{class:"col__button",onClick:x=>h(o)},"+",8,M)])]))),128))])])],64)}}},w=g(T,[["__scopeId","data-v-3d031a03"]]);export{w as default};
